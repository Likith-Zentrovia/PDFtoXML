# PDF-to-XML Pipeline - Environment Configuration
# Copy this file to .env and fill in your values
#
# IMPORTANT: Never commit .env to version control!

# =============================================================================
# REQUIRED
# =============================================================================

# Anthropic API key for Claude AI conversion
ANTHROPIC_API_KEY=sk-ant-xxxxx

# =============================================================================
# MONGODB CONFIGURATION
# =============================================================================

# Option 1: MongoDB Atlas (Recommended for production)
# Get your connection string from: https://cloud.mongodb.com
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority

# Option 2: Local MongoDB (for development with --profile local)
# Uncomment this and comment out the Atlas URI above
# MONGODB_URI=mongodb://mongodb:27017

# Database name (used by both Atlas and local)
MONGODB_DATABASE=pdf_pipeline

# =============================================================================
# DOCKER COMPOSE SETTINGS
# =============================================================================

# Port mappings (change if ports conflict)
PIPELINE_PORT=8000
MONGODB_PORT=27017
MONGO_EXPRESS_PORT=8081

# Mongo Express credentials (local dev only)
MONGO_EXPRESS_USER=admin
MONGO_EXPRESS_PASSWORD=admin

# =============================================================================
# PIPELINE SETTINGS (Optional - defaults shown)
# =============================================================================

# AI model for conversion
PDFTOXML_MODEL=claude-sonnet-4-20250514

# Image resolution (DPI)
PDFTOXML_DPI=300

# AI temperature (0 = deterministic)
PDFTOXML_TEMPERATURE=0.0

# Pages per batch
PDFTOXML_BATCH_SIZE=10

# Maximum concurrent conversion jobs
PDFTOXML_MAX_CONCURRENT=3

# =============================================================================
# WEBHOOK SETTINGS
# =============================================================================

# URL to notify when conversion completes (success or failure)
# Set to empty string to disable webhooks
PDFTOXML_WEBHOOK_URL=http://demo-ui-backend:3001/api/files/webhook/complete

# =============================================================================
# USAGE EXAMPLES
# =============================================================================
#
# With MongoDB Atlas (production):
#   1. Set MONGODB_URI to your Atlas connection string
#   2. Run: docker-compose up -d pipeline
#
# With local MongoDB (development):
#   1. Comment out MONGODB_URI (or set to mongodb://mongodb:27017)
#   2. Run: docker-compose --profile local up -d
#
# With local MongoDB + Admin UI:
#   Run: docker-compose --profile local --profile dev up -d
#   Access Mongo Express at: http://localhost:8081
